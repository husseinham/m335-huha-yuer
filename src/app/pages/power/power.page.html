<ion-header>
  <ion-toolbar>
    <ion-title>Strom</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <p>Gerät verbinden</p>

  <ion-card class="ion-margin-top">
    <ion-card-content>
      <div style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
        <div>
          <div style="font-weight:600;">Akkustand</div>
          <div style="opacity:.85; font-size:0.95em;">
            <span *ngIf="isCharging">✅ Lädt / verbunden</span>
            <span *ngIf="!isCharging">❌ Nicht verbunden</span>
          </div>
        </div>

        <div style="font-weight:700; font-size:1.1em;">
          {{ batteryPercentText }}
        </div>
      </div>

      <ion-progress-bar class="ion-margin-top" [value]="batteryLevel ?? 0"></ion-progress-bar>

      <div class="ion-margin-top" style="opacity:.85; font-size:0.95em;">
        Stecke das Ladekabel ein. Danach kannst du die Aufgabe abschliessen.
      </div>
    </ion-card-content>
  </ion-card>

  <ion-button expand="block" (click)="markDone()" [disabled]="!canComplete">
    Weiter
  </ion-button>

  <ion-button expand="block" fill="outline" (click)="skip()">
    Aufgabe überspringen
  </ion-button>

  <ion-button expand="block" color="danger" fill="outline" (click)="abort()">
    Durchlauf abbrechen
  </ion-button>
</ion-content>
